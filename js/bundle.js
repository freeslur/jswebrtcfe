
  /**
   * @license
   * jswebrtcfe.js v1.0.0
   * Released under the MIT License.
   */

(function () {
  'use strict';

  // import { io } from "socket.io-client";
  // const socket = io();
  const welcome = document.getElementById("welcome");
  const call = document.getElementById("call");
  const myFace = document.getElementById("myFace");
  const muteBtn = document.getElementById("mute");
  const cameraBtn = document.getElementById("camera");
  const camerasSelect = document.getElementById("cameras");
  call.hidden = true;
  let myStream;
  let muted = false;
  let cameraOff = false;

  async function getCameras() {
    try {
      const devices = navigator.mediaDevices.enumerateDevices();
      const cameras = (await devices).filter(device => device.kind == "videoinput");
      const currentCamera = myStream.getVideoTracks()[0];
      cameras.forEach(camera => {
        const option = document.createElement("option");
        option.value = camera.deviceId;
        option.innerText = camera.label;

        if (currentCamera.deviceId === camera.deviceId) {
          option.selected = true;
        }

        camerasSelect.appendChild(option);
      });
    } catch (e) {
      console.log(e);
    }
  }

  async function getMedia(deviceId) {
    const initialConstrains = {
      audio: true,
      video: {
        facingMode: "user"
      }
    };
    const cameraConstrains = {
      audio: true,
      video: {
        deviceId: {
          exact: deviceId
        }
      }
    };

    try {
      myStream = await navigator.mediaDevices.getUserMedia(deviceId ? cameraConstrains : initialConstrains);
      myFace.srcObject = myStream;

      if (!deviceId) {
        await getCameras();
      }
    } catch (e) {
      console.log(e.message);
    }
  }

  muteBtn.addEventListener("click", () => {
    myStream.getAudioTracks().forEach(track => {
      track.enabled = !track.enabled;
    });

    if (!muted) {
      muteBtn.innerText = "Unmute";
      muted = true;
    } else {
      muteBtn.innerText = "Mute";
      muted = false;
    }
  });

  function handleVideoOff() {
    myStream.getVideoTracks().forEach(track => {
      track.enabled = !track.enabled;
    });

    if (!cameraOff) {
      cameraBtn.innerText = "Turn Camera On";
      cameraOff = true;
    } else {
      cameraBtn.innerText = "Turn Camera Off";
      cameraOff = false;
    }
  }

  cameraBtn.addEventListener("click", handleVideoOff);

  async function handleCameraChange() {
    await getMedia(camerasSelect.value);
  }

  camerasSelect.addEventListener("input", handleCameraChange);
  const welcomeForm = welcome.querySelector("form");

  function handleWelcomeSubmit(event) {
    event.preventDefault();
    const input = welcomeForm.querySelector("input");
    console.log(input.value);
  }

  welcomeForm.addEventListener("submit", handleWelcomeSubmit);

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IGlvIH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcblxuLy8gY29uc3Qgc29ja2V0ID0gaW8oKTtcbmNvbnN0IHdlbGNvbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlbGNvbWVcIik7XG5jb25zdCBjYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWxsXCIpO1xuY29uc3QgbXlGYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUZhY2VcIik7XG5jb25zdCBtdXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtdXRlXCIpO1xuY29uc3QgY2FtZXJhQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW1lcmFcIik7XG5jb25zdCBjYW1lcmFzU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW1lcmFzXCIpO1xuXG5jYWxsLmhpZGRlbiA9IHRydWU7XG5cbmxldCBteVN0cmVhbTtcbmxldCBtdXRlZCA9IGZhbHNlO1xubGV0IGNhbWVyYU9mZiA9IGZhbHNlO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRDYW1lcmFzKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRldmljZXMgPSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICBjb25zdCBjYW1lcmFzID0gKGF3YWl0IGRldmljZXMpLmZpbHRlcigoZGV2aWNlKSA9PiBkZXZpY2Uua2luZCA9PSBcInZpZGVvaW5wdXRcIik7XG4gICAgY29uc3QgY3VycmVudENhbWVyYSA9IG15U3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgY2FtZXJhcy5mb3JFYWNoKChjYW1lcmEpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICBvcHRpb24udmFsdWUgPSBjYW1lcmEuZGV2aWNlSWQ7XG4gICAgICBvcHRpb24uaW5uZXJUZXh0ID0gY2FtZXJhLmxhYmVsO1xuICAgICAgaWYgKGN1cnJlbnRDYW1lcmEuZGV2aWNlSWQgPT09IGNhbWVyYS5kZXZpY2VJZCkge1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY2FtZXJhc1NlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVkaWEoZGV2aWNlSWQpIHtcbiAgY29uc3QgaW5pdGlhbENvbnN0cmFpbnMgPSB7XG4gICAgYXVkaW86IHRydWUsXG4gICAgdmlkZW86IHsgZmFjaW5nTW9kZTogXCJ1c2VyXCIgfSxcbiAgfTtcbiAgY29uc3QgY2FtZXJhQ29uc3RyYWlucyA9IHtcbiAgICBhdWRpbzogdHJ1ZSxcbiAgICB2aWRlbzogeyBkZXZpY2VJZDogeyBleGFjdDogZGV2aWNlSWQgfSB9LFxuICB9O1xuICB0cnkge1xuICAgIG15U3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZGV2aWNlSWQgPyBjYW1lcmFDb25zdHJhaW5zIDogaW5pdGlhbENvbnN0cmFpbnMpO1xuICAgIG15RmFjZS5zcmNPYmplY3QgPSBteVN0cmVhbTtcbiAgICBpZiAoIWRldmljZUlkKSB7XG4gICAgICBhd2FpdCBnZXRDYW1lcmFzKCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZS5tZXNzYWdlKTtcbiAgfVxufVxuXG5tdXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG15U3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICB0cmFjay5lbmFibGVkID0gIXRyYWNrLmVuYWJsZWQ7XG4gIH0pO1xuICBpZiAoIW11dGVkKSB7XG4gICAgbXV0ZUJ0bi5pbm5lclRleHQgPSBcIlVubXV0ZVwiO1xuICAgIG11dGVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBtdXRlQnRuLmlubmVyVGV4dCA9IFwiTXV0ZVwiO1xuICAgIG11dGVkID0gZmFsc2U7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVWaWRlb09mZigpIHtcbiAgbXlTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgIHRyYWNrLmVuYWJsZWQgPSAhdHJhY2suZW5hYmxlZDtcbiAgfSk7XG4gIGlmICghY2FtZXJhT2ZmKSB7XG4gICAgY2FtZXJhQnRuLmlubmVyVGV4dCA9IFwiVHVybiBDYW1lcmEgT25cIjtcbiAgICBjYW1lcmFPZmYgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNhbWVyYUJ0bi5pbm5lclRleHQgPSBcIlR1cm4gQ2FtZXJhIE9mZlwiO1xuICAgIGNhbWVyYU9mZiA9IGZhbHNlO1xuICB9XG59XG5cbmNhbWVyYUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlVmlkZW9PZmYpO1xuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVDYW1lcmFDaGFuZ2UoKSB7XG4gIGF3YWl0IGdldE1lZGlhKGNhbWVyYXNTZWxlY3QudmFsdWUpO1xufVxuXG5jYW1lcmFzU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBoYW5kbGVDYW1lcmFDaGFuZ2UpO1xuXG5jb25zdCB3ZWxjb21lRm9ybSA9IHdlbGNvbWUucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG5cbmZ1bmN0aW9uIGhhbmRsZVdlbGNvbWVTdWJtaXQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaW5wdXQgPSB3ZWxjb21lRm9ybS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gIGNvbnNvbGUubG9nKGlucHV0LnZhbHVlKTtcbn1cblxud2VsY29tZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVXZWxjb21lU3VibWl0KTtcbiJdLCJuYW1lcyI6WyJ3ZWxjb21lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbGwiLCJteUZhY2UiLCJtdXRlQnRuIiwiY2FtZXJhQnRuIiwiY2FtZXJhc1NlbGVjdCIsImhpZGRlbiIsIm15U3RyZWFtIiwibXV0ZWQiLCJjYW1lcmFPZmYiLCJnZXRDYW1lcmFzIiwiZGV2aWNlcyIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJjYW1lcmFzIiwiZmlsdGVyIiwiZGV2aWNlIiwia2luZCIsImN1cnJlbnRDYW1lcmEiLCJnZXRWaWRlb1RyYWNrcyIsImZvckVhY2giLCJjYW1lcmEiLCJvcHRpb24iLCJjcmVhdGVFbGVtZW50IiwidmFsdWUiLCJkZXZpY2VJZCIsImlubmVyVGV4dCIsImxhYmVsIiwic2VsZWN0ZWQiLCJhcHBlbmRDaGlsZCIsImUiLCJjb25zb2xlIiwibG9nIiwiZ2V0TWVkaWEiLCJpbml0aWFsQ29uc3RyYWlucyIsImF1ZGlvIiwidmlkZW8iLCJmYWNpbmdNb2RlIiwiY2FtZXJhQ29uc3RyYWlucyIsImV4YWN0IiwiZ2V0VXNlck1lZGlhIiwic3JjT2JqZWN0IiwibWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRBdWRpb1RyYWNrcyIsInRyYWNrIiwiZW5hYmxlZCIsImhhbmRsZVZpZGVvT2ZmIiwiaGFuZGxlQ2FtZXJhQ2hhbmdlIiwid2VsY29tZUZvcm0iLCJxdWVyeVNlbGVjdG9yIiwiaGFuZGxlV2VsY29tZVN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJpbnB1dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztFQUFBO0VBRUE7RUFDQSxNQUFNQSxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixTQUF4QixDQUFoQjtFQUNBLE1BQU1DLElBQUksR0FBR0YsUUFBUSxDQUFDQyxjQUFU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
